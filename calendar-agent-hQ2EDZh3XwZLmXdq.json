{"createdAt":"2025-08-13T10:07:48.489Z","updatedAt":"2025-08-13T10:07:48.489Z","id":"hQ2EDZh3XwZLmXdq","name":"calendar agent","active":false,"isArchived":false,"nodes":[{"parameters":{"httpMethod":"POST","path":"calendar-agent","responseMode":"lastNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[2540,1600],"id":"10305d27-594f-4bd0-9a2a-e160e53fad46","name":"Webhook","webhookId":"fa8820fd-f60b-4051-8e25-f42ecef411a8"},{"parameters":{"modelId":{"__rl":true,"value":"chatgpt-4o-latest","mode":"list","cachedResultName":"CHATGPT-4O-LATEST"},"messages":{"values":[{"content":"=ğŸ§© **TvÃ© Ãºkoly v poÅ™adÃ­:**\n\n1. **Normalizuj text** â€“ oprav gramatiku a rozpoznatelnÃ© pÅ™eklepy, kterÃ© dÃ¡vajÃ­ smysl.\n2. **Analyzuj vÃ½znam** â€“ pochop, co se mÃ¡ stÃ¡t: kdo, co, kdy, kde, proÄ.\n3. **Extrahuj detailnÃ­ informace pro kalendÃ¡Å™**:\n   - title: co se mÃ¡ stÃ¡t (max 60 znakÅ¯, pÅ™irozenÃ½ jazyk)\n   - description: dalÅ¡Ã­ poznÃ¡mky nebo volnÃ© informace\n   - start: kdy mÃ¡ udÃ¡lost zaÄÃ­t (ve formÃ¡tu YYYY-MM-DDTHH:MM:SS)\n   - end: kdy mÃ¡ skonÄit (stejnÃ½ formÃ¡t)\n   - location: pokud je zmÃ­nÄ›no mÃ­sto (napÅ™. \"u doktora\", \"v kancelÃ¡Å™i\")\n   - attendees: seznam osob, pokud jsou uvedeny (napÅ™. \"Tereza\", \"klient\")\n   - allDay: true/false â€“ pokud se nejednÃ¡ o konkrÃ©tnÃ­ Äas\n\n---\n\nğŸ“Œ **Pravidla a kontext:**\n\n- Pokud nenÃ­ Äas uveden â†’ vÃ½chozÃ­ zaÄÃ¡tek je 10:00\n- Pokud nenÃ­ konec uveden â†’ nastav end jako 30 minut po start\n- Pokud je Å™eÄeno \"do [Äas]\" â†’ pouÅ¾ij jako end, ale start hledej dÅ™Ã­ve v textu nebo defaultnÄ›\n- Pokud je pouze datum (napÅ™. \"zÃ­tra\", \"v pondÄ›lÃ­\") â†’ nastav Äas jako 10:00\n- Pokud je zmÃ­nÄ›no \"po obÄ›dÄ›\", \"veÄer\", \"rÃ¡no\", \"dopoledne\" â†’ pouÅ¾ij pÅ™ibliÅ¾nÃ© Äasy:\n  - rÃ¡no: 08:30, dopoledne: 10:00, po obÄ›dÄ›: 13:00, veÄer: 18:00\n- Datum konvertuj podle lokÃ¡lnÃ­ho Äasu Europe/Prague\n- NepÅ™idÃ¡vej Å¾Ã¡dnÃ½ text okolo â€“ vÃ½stup musÃ­ bÃ½t **ÄistÃ½, validnÃ­ JSON objekt**\n\n---\n\nğŸ“¦ **PÅ™Ã­klad vÃ½stupu:**\njson\n{\n  \"title\": \"Kontrola u doktora\",\n  \"description\": \"KrevnÃ­ tlak, zÅ¯stat do 12:00\",\n  \"start\": \"2025-07-07T10:00:00\",\n  \"end\": \"2025-07-07T12:00:00\",\n  \"location\": \"Ordinace\",\n  \"attendees\": [],\n  \"allDay\": yes\n}\n\n\n\nVSTUP: {{ $json.body.message }}\nDNEÅ NÃ DATUM JE: {{ $today }}"}]},"jsonOutput":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[2760,1600],"id":"7bce9c69-daf6-4c17-9dd4-3fef79bd89c7","name":"OpenAI"},{"parameters":{"calendar":{"__rl":true,"value":"04.novotny.martin@gmail.com","mode":"list","cachedResultName":"04.novotny.martin@gmail.com"},"start":"={{ $json.message.content.start }}","end":"={{ $json.message.content.end }}","useDefaultReminders":false,"additionalFields":{"description":"={{ $json.message.content.description }}","summary":"={{ $json.message.content.title }}"},"remindersUi":{"remindersValues":[{"method":"popup","minutes":1440},{"method":"popup","minutes":120}]}},"type":"n8n-nodes-base.googleCalendar","typeVersion":1.3,"position":[3140,1600],"id":"6feb3614-9df4-4cd8-a253-13b26ba6faa5","name":"Google Calendar"}],"connections":{"Webhook":{"main":[[{"node":"OpenAI","type":"main","index":0}]]},"OpenAI":{"main":[[{"node":"Google Calendar","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"d9ede0ff-9904-43ca-8299-8b1004da2183","triggerCount":0,"shared":[{"createdAt":"2025-08-13T10:07:48.492Z","updatedAt":"2025-08-13T10:07:48.492Z","role":"workflow:owner","workflowId":"hQ2EDZh3XwZLmXdq","projectId":"zpk8zHoHWXf3cQ7T"}],"tags":[]}